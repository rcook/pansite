# $(@D) is an automatic variable meaning "the output directory" (a la GNU Make)
# All other paths are resolved relative to this directory containing this file

routes:
- path: content/ctp
  target: $(@D)/ctp.html
- path: content/pcph
  target: $(@D)/pcph.html
- path: css/buttondown.css
  target: buttondown.css

targets:
- path: $(@D)/ctp.html
  tool: pandoc
  tool-settings: # TODO: Overrides not implemented yet
    number-sections: false # TODO: Overrides not implemented yet
  inputs:
  - ctp.md
  dependencies:
  - app.yaml
- path: $(@D)/pcph.html
  tool: pandoc
  inputs:
  - pcph.md
  dependencies:
  - app.yaml

tool-settings:
  pandoc:
    number-sections: true
    template-path: template.html
    vars:
    - [css, css/buttondown.css]
